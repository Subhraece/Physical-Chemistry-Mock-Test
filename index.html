<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JEE Main CBT Mock Test</title>
    <style>
        * { box-sizing: border-box; font-family: 'Arial', sans-serif; }
        body { margin: 0; padding: 0; background-color: #f0f4f7; display: flex; flex-direction: column; height: 100vh; overflow: hidden; }
        
        /* Header */
        .header { background-color: #2196F3; color: white; display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); z-index: 10; }
        .header-title { font-size: 20px; font-weight: bold; }
        .timer-container { font-size: 18px; font-weight: bold; background: #1565C0; padding: 5px 15px; border-radius: 5px; }
        
        /* Main Layout */
        .main-container { display: flex; flex: 1; overflow: hidden; }
        
        /* Left Panel */
        .left-panel { flex: 1; display: flex; flex-direction: column; background: white; margin: 10px; border-radius: 5px; box-shadow: 0 0 10px rgba(0,0,0,0.05); border: 1px solid #ddd; border-top: 4px solid #F44336; }
        .question-header { padding: 15px 20px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; background: #fafafa; font-weight: bold; font-size: 18px; color: #333; }
        .marks-info { font-size: 14px; font-weight: normal; color: #666; display: flex; gap: 15px; }
        
        .question-body { flex: 1; padding: 25px; overflow-y: auto; font-size: 16px; line-height: 1.6; color: #111; }
        .question-body img { max-width: 100%; }
        
        .options-container { margin-top: 20px; }
        .option-item { display: flex; align-items: center; margin-bottom: 12px; padding: 10px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer; transition: 0.2s; }
        .option-item:hover { background-color: #f1f8ff; border-color: #2196F3; }
        .option-item input { margin-right: 15px; transform: scale(1.3); cursor: pointer; }
        
        input[type="text"].num-input { padding: 10px; font-size: 16px; width: 200px; border: 1px solid #ccc; border-radius: 4px; }
        
        /* Footer Actions */
        .action-footer { padding: 15px 20px; background: #fafafa; border-top: 1px solid #eee; display: flex; gap: 10px; flex-wrap: wrap; justify-content: space-between; }
        .action-btns-left { display: flex; gap: 10px; }
        .action-btns-right { display: flex; gap: 10px; }
        
        button { padding: 10px 15px; border: none; border-radius: 3px; font-weight: bold; cursor: pointer; transition: 0.2s; font-size: 14px; text-transform: uppercase; }
        .btn-save-next { background-color: #4CAF50; color: white; border-bottom: 3px solid #388E3C; }
        .btn-save-next:hover { background-color: #45a049; }
        .btn-save-mark { background-color: #FF9800; color: white; border-bottom: 3px solid #F57C00; }
        .btn-save-mark:hover { background-color: #FB8C00; }
        .btn-clear { background-color: #f1f1f1; color: #333; border: 1px solid #ccc; border-bottom: 3px solid #bbb; }
        .btn-clear:hover { background-color: #e1e1e1; }
        .btn-mark-next { background-color: #2196F3; color: white; border-bottom: 3px solid #1976D2; }
        .btn-mark-next:hover { background-color: #1E88E5; }
        .btn-nav { background-color: #e0e0e0; color: #333; border-bottom: 3px solid #bdbdbd; }
        .btn-nav:hover { background-color: #d5d5d5; }
        
        /* Right Panel */
        .right-panel { width: 300px; display: flex; flex-direction: column; margin: 10px 10px 10px 0; background: white; border-radius: 5px; box-shadow: 0 0 10px rgba(0,0,0,0.05); border: 1px solid #ddd; }
        .profile-sec { padding: 15px; display: flex; align-items: center; border-bottom: 1px solid #eee; background: #e3f2fd; gap: 15px; }
        .user-pic { width: 50px; height: 50px; background: #ccc; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white; background: #1976D2; }
        .user-info { font-weight: bold; color: #333; }
        
        .p-info { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; padding: 15px; border-bottom: 1px solid #eee; font-size: 13px; font-weight: bold; }
        .p-item { display: flex; align-items: center; gap: 8px; }
        
        .palette-container { padding: 15px; flex: 1; overflow-y: auto; }
        .palette { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
        
        /* Palette Bubble States */
        .bubble { width: 45px; height: 45px; display: flex; justify-content: center; align-items: center; font-weight: bold; color: white; border-radius: 5px; cursor: pointer; clip-path: polygon(10% 0, 90% 0, 100% 10%, 100% 90%, 90% 100%, 10% 100%, 0 90%, 0 10%); transition: 0.1s; user-select: none; }
        .bubble:active { transform: scale(0.95); }
        .b-not-visited { background-color: #e0e0e0; color: #333; border: 1px solid #ccc; clip-path: none; border-radius: 3px; }
        .b-not-answered { background-color: #F44336; clip-path: polygon(0% 0%, 100% 0%, 100% 80%, 50% 100%, 0% 80%); }
        .b-answered { background-color: #4CAF50; clip-path: polygon(0 15%, 100% 15%, 100% 100%, 0% 100%); border-top-left-radius: 50%; border-top-right-radius: 50%; }
        .b-marked { background-color: #9C27B0; border-radius: 50%; clip-path: none; }
        .b-marked-ans { background-color: #9C27B0; border-radius: 50%; clip-path: none; position: relative; }
        .b-marked-ans::after { content: ''; position: absolute; bottom: 4px; right: 4px; width: 12px; height: 12px; background: #4CAF50; border-radius: 50%; border: 2px solid white; }
        
        .submit-panel { padding: 15px; border-top: 1px solid #eee; text-align: center; background: #eaf6ff; }
        .btn-submit { width: 100%; background: #4CAF50; color: white; padding: 12px; font-size: 16px; border-bottom: 4px solid #388E3C; }
        .btn-submit:hover { background: #45a049; }
        
        #hidden-raw { display: none; }
        
        /* Post Submit Layout */
        #result-screen { display: none; padding: 40px; text-align: center; height: 100%; align-items: center; justify-content: center; flex-direction: column; background: white; }
        .result-box { background: #fff; border: 1px solid #ddd; box-shadow: 0 4px 20px rgba(0,0,0,0.1); border-radius: 10px; padding: 40px; width: 500px; }
        .result-title { font-size: 28px; color: #2196F3; margin-bottom: 20px; text-transform: uppercase; font-weight: 900; }
        .score-circle { width: 150px; height: 150px; border-radius: 50%; border: 8px solid #4CAF50; display: flex; align-items: center; justify-content: center; font-size: 40px; font-weight: bold; margin: 0 auto 30px; color: #333; }
        .score-text { font-size: 18px; color: #555; line-height: 1.8; }
        
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #ccc; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #999; }
    </style>
</head>
<body>

    <div class="header" id="header-area">
        <div class="header-title">National Testing Agency (NTA) - JEE Mock Test</div>
        <div class="timer-container">Time Left: <span id="timer">03:00:00</span></div>
    </div>

    <div class="main-container" id="exam-screen">
        <!-- Left Panel -->
        <div class="left-panel">
            <div class="question-header">
                <div id="q-header-text">Question 1</div>
                <div class="marks-info">
                    <span style="color: #4CAF50">Marks: +4</span>
                    <span style="color: #F44336">Negative: -1</span>
                </div>
            </div>
            
            <div class="question-body" id="q-body">
                <!-- Dynamic Content -->
            </div>
            
            <div class="action-footer">
                <div class="action-btns-left">
                    <button class="btn-save-next" onclick="saveAndNext()">Save & Next</button>
                    <button class="btn-clear" onclick="clearResponse()">Clear Response</button>
                    <button class="btn-save-mark" onclick="saveAndMark()">Save & Mark for Review</button>
                    <button class="btn-mark-next" onclick="markAndNext()">Mark for Review & Next</button>
                </div>
                <div class="action-btns-right">
                    <button class="btn-nav" onclick="prevQuestion()"><< Back</button>
                    <button class="btn-nav" onclick="nextQuestion()">Next >></button>
                </div>
            </div>
        </div>
        
        <!-- Right Panel -->
        <div class="right-panel">
            <div class="profile-sec">
                <div class="user-pic">S</div>
                <div class="user-info">
                    <div>Candidate Name: Student</div>
                    <div style="font-weight: normal; font-size: 13px; color: #555;">Subject: Physical Chemistry</div>
                </div>
            </div>
            
            <div class="p-info">
                <div class="p-item"><div class="bubble b-not-visited" style="width:25px; height:25px; font-size:12px;" id="count-nv">0</div> Not Visited</div>
                <div class="p-item"><div class="bubble b-not-answered" style="width:25px; height:25px; font-size:12px;" id="count-na">0</div> Not Answered</div>
                <div class="p-item"><div class="bubble b-answered" style="width:25px; height:25px; font-size:12px;" id="count-ans">0</div> Answered</div>
                <div class="p-item"><div class="bubble b-marked" style="width:25px; height:25px; font-size:12px;" id="count-m">0</div> Marked</div>
                <div class="p-item" style="grid-column: span 2;"><div class="bubble b-marked-ans" style="width:25px; height:25px; font-size:12px;" id="count-mans">0</div> Answered & Marked for Review</div>
            </div>
            
            <div class="palette-container">
                <div style="font-weight: bold; font-size: 14px; margin-bottom: 10px; color:#333;">Chemistry</div>
                <div class="palette" id="palette-grid">
                    <!-- Dynamic Bubbles -->
                </div>
            </div>
            
            <div class="submit-panel">
                <button class="btn-submit" onclick="submitExam()">Submit Examination</button>
            </div>
        </div>
    </div>
    
    <div id="result-screen">
        <div class="result-box">
            <div class="result-title">Exam Submitted</div>
            <div class="score-circle" id="final-score">0</div>
            <div class="score-text">
                <div>Total Questions: <b id="r-total">0</b></div>
                <div>Attempted: <b id="r-att">0</b></div>
                <div>Correct: <b id="r-corr" style="color:#4CAF50">0</b></div>
                <div>Incorrect: <b id="r-incorr" style="color:#F44336">0</b></div>
                <div style="margin-top: 15px; font-size: 14px; color: #888;">Note: This evaluation treats numericals and MCQs with +4/-1 scheme. Correct answers and solutions can be inspected from the original HTML file.</div>
            </div>
        </div>
    </div>

    <!-- Hidden Store -->
    <div id="hidden-raw">

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="4">
      <div class="question">
        1. The cell potential for the cell Zn | Zn<sup>2+</sup>(aq) || Sn<sup
          >x+</sup
        >
        | Sn is 0.801 V at 298 K. The reaction quotient is 10<sup>-2</sup>.
        Electrons involved = _____.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="1">
      <div class="question">
        2. Which equation correctly represents the relationship between
        &Lambda;<sub>m</sub>, &Lambda;&deg;<sub>m</sub>, and concentration (C)?
      </div>
      <ul class="options">
        <li>
          <label
            ><input type="radio" name="q2" value="1" /> (1) &Lambda;<sub>m</sub>
            - &Lambda;&deg;<sub>m</sub> + A C<sup>1/2</sup> = 0</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q2" value="2" /> (2) &Lambda;<sub>m</sub
            ><sup>2</sup> C - K<sub>a</sub> &Lambda;<sub>m</sub
            ><sup>&deg;2</sup> + K<sub>a</sub> &Lambda;<sub>m</sub>
            &Lambda;&deg;<sub>m</sub> = 0</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q2" value="3" /> (3) &Lambda;<sub>m</sub
            ><sup>2</sup> C + K<sub>a</sub> &Lambda;<sub>m</sub
            ><sup>&deg;2</sup> - K<sub>a</sub> &Lambda;<sub>m</sub>
            &Lambda;&deg;<sub>m</sub> = 0</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q2" value="4" /> (4) &Lambda;<sub>m</sub>
            - &Lambda;&deg;<sub>m</sub> - A C<sup>1/2</sup> = 0</label
          >
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="2">
      <div class="question">
        3. For a strong electrolyte, a plot of molar conductivity against sq.
        root of concentration is a straight line. Slope unit:
      </div>
      <ul class="options">
        <li>
          <label
            ><input type="radio" name="q3" value="1" /> (1) mol<sup>-3/2</sup>
            L<sup>-1/2</sup> S cm<sup>2</sup></label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q3" value="2" /> (2) mol<sup>-3/2</sup>
            L<sup>1/2</sup> S cm<sup>2</sup></label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q3" value="3" /> (3) mol<sup>-3/2</sup> L
            S cm<sup>2</sup></label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q3" value="4" /> (4) mol<sup>-1</sup>
            L<sup>1/2</sup></label
          >
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="2">
      <div class="question">
        4. For concentrated solution of weak electrolyte A<sub>2</sub>B<sub
          >3</sub
        >
        (conc. C), degree of dissociation &alpha; is:
      </div>
      <ul class="options">
        <li>
          <label
            ><input type="radio" name="q4" value="1" /> (1) (K<sub>eq</sub> /
            5c<sup>4</sup>)<sup>1/5</sup></label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q4" value="2" /> (2) (K<sub>eq</sub> /
            108c<sup>4</sup>)<sup>1/5</sup></label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q4" value="3" /> (3) (K<sub>eq</sub> /
            25c<sup>2</sup>)<sup>1/5</sup></label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q4" value="4" /> (4) (K<sub>eq</sub> /
            6c<sup>5</sup>)<sup>1/5</sup></label
          >
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="3">
      <div class="question">
        5. At what pH will half-cell MnO<sub>4</sub><sup>-</sup>(0.1 M) |
        Mn<sup>2+</sup>(0.001 M) have potential of 1.282 V?
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="917">
      <div class="question">
        6. At 298 K, solution with 10 mmol Cr<sub>2</sub>O<sub>7</sub
        ><sup>2-</sup> and 100 mmol Cr<sup>3+</sup> has pH 3.0. Potential is x
        &times; 10<sup>-3</sup> V. x = _____.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="1">
      <div class="question">
        7. For salt AB<sub>2</sub>, [A<sup>2+</sup>] = 1.2 &times; 10<sup
          >-4</sup
        >
        M and [B<sup>-</sup>] = 0.24 &times; 10<sup>-3</sup> M. K<sub>sp</sub>
        is:
      </div>
      <ul class="options">
        <li>
          <label
            ><input type="radio" name="q7" value="1" /> (1) 6.91 &times; 10<sup
              >-12</sup
            ></label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q7" value="2" /> (2) 0.276 &times; 10<sup
              >-12</sup
            ></label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q7" value="3" /> (3) 27.65 &times; 10<sup
              >-12</sup
            ></label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q7" value="4" /> (4) 0.069 &times; 10<sup
              >-12</sup
            ></label
          >
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="4">
      <div class="question">
        8. K<sub>c</sub> for SO<sub>3</sub> &harr; SO<sub>2</sub> +
        &frac12;O<sub>2</sub> is 4.9 &times; 10<sup>-2</sup>. K<sub>c</sub> for
        2SO<sub>2</sub> + O<sub>2</sub> &harr; 2SO<sub>3</sub> is:
      </div>
      <ul class="options">
        <li>
          <label><input type="radio" name="q8" value="1" /> (1) 4.9</label>
        </li>
        <li>
          <label><input type="radio" name="q8" value="2" /> (2) 49</label>
        </li>
        <li>
          <label><input type="radio" name="q8" value="3" /> (3) 41.6</label>
        </li>
        <li>
          <label><input type="radio" name="q8" value="4" /> (4) 416</label>
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="5">
      <div class="question">
        9. 25mL 0.050M Ba(NO<sub>3</sub>)<sub>2</sub> mixed with 25mL 0.020M
        NaF. K<sub>sp</sub> BaF<sub>2</sub> = 0.5 &times; 10<sup>-6</sup>. Ratio
        [Ba<sup>2+</sup>][F<sup>-</sup>]<sup>2</sup> / K<sub>sp</sub> = _____.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="3">
      <div class="question">
        10. Correct option for: 2Au(CN)<sub>2</sub><sup>-</sup>(aq) + Zn(s)
        &rarr; 2Au(s) + Zn(CN)<sub>4</sub><sup>2-</sup>(aq)
      </div>
      <ul class="options">
        <li>
          <label
            ><input type="radio" name="q10" value="1" /> (1) A only
            (Redox)</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q10" value="2" /> (2) A and D only</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q10" value="3" /> (3) A and B only</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q10" value="4" /> (4) C and D only</label
          >
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="3">
      <div class="question">
        11. 20 mL of 0.1 M NH<sub>4</sub>OH mixed with 40 mL of 0.05 M HCl. pH
        is nearest to:
      </div>
      <ul class="options">
        <li>
          <label><input type="radio" name="q11" value="1" /> (1) 3.2</label>
        </li>
        <li>
          <label><input type="radio" name="q11" value="2" /> (2) 4.2</label>
        </li>
        <li>
          <label><input type="radio" name="q11" value="3" /> (3) 5.2</label>
        </li>
        <li>
          <label><input type="radio" name="q11" value="4" /> (4) 6.2</label>
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="18">
      <div class="question">
        12. Hydrogen electrode in pH = 3 at 25&deg;C. Potential = - _____
        &times; 10<sup>-2</sup> V.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="0">
      <div class="question">
        13. Spin only magnetic moment of square planar
        [Pt(NH<sub>3</sub>)<sub>2</sub>Cl(NH<sub>2</sub>CH<sub>3</sub>)]Cl is
        _____ B.M.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="37">
      <div class="question">
        14. M &rarr; N at 400 K, &Delta;H&deg; = 77.2 kJ/mol, &Delta;S&deg; =
        122 J/K, logK is - _____ &times; 10<sup>-1</sup>.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="46">
      <div class="question">
        15. Mass of zinc by electrolysis (0.015 A for 15 min) is _____ &times;
        10<sup>-4</sup> g.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="2">
      <div class="question">
        16. N<sub>2</sub>O<sub>4</sub>(g) &harr; 2NO<sub>2</sub>(g), K<sub
          >p</sub
        >
        = 0.492 atm at 300 K. K<sub>c</sub> is _____ &times; 10<sup>-2</sup>.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="2">
      <div class="question">
        17. Current through AuCl<sub>4</sub><sup>-</sup> for 10 min, mass
        increase 1.314 g. Charge = _____ &times; 10<sup>-2</sup> F.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="417">
      <div class="question">
        18. At 500K: [N<sub>2</sub>] = 0.02M, [H<sub>2</sub>] = 0.03M,
        [NH<sub>3</sub>] = 0.015M. Eq constant K is _____.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="9">
      <div class="question">
        19. pH at which Mg(OH)<sub>2</sub> [K<sub>sp</sub> =
        1&times;10<sup>-11</sup>] precipitates from 0.10 M Mg<sup>2+</sup> is
        _____.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="24">
      <div class="question">
        20. Rate of 1st order reaction is 0.04 at 10 min and 0.03 at 20 min.
        Half life is _____ min.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="2">
      <div class="question">
        21. E&deg; for ClO<sub>4</sub><sup>-</sup>: 1.19 V, IO<sub>4</sub
        ><sup>-</sup>: 1.65 V, BrO<sub>4</sub><sup>-</sup>: 1.74 V. Oxidising
        power order:
      </div>
      <ul class="options">
        <li>
          <label
            ><input type="radio" name="q21" value="1" /> (1) ClO<sub>4</sub
            ><sup>-</sup> > IO<sub>4</sub><sup>-</sup> > BrO<sub>4</sub
            ><sup>-</sup></label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q21" value="2" /> (2) BrO<sub>4</sub
            ><sup>-</sup> > IO<sub>4</sub><sup>-</sup> > ClO<sub>4</sub
            ><sup>-</sup></label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q21" value="3" /> (3) BrO<sub>4</sub
            ><sup>-</sup> > ClO<sub>4</sub><sup>-</sup> > IO<sub>4</sub
            ><sup>-</sup></label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q21" value="4" /> (4) IO<sub>4</sub
            ><sup>-</sup> > BrO<sub>4</sub><sup>-</sup> > ClO<sub>4</sub
            ><sup>-</sup></label
          >
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="100">
      <div class="question">
        22. Buffer of 1M benzoic acid (pK<sub>a</sub> = 4.20) & 1M sodium
        benzoate has pH 4.5. Vol of acid in 300mL is _____ mL.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="17">
      <div class="question">
        23. 2N<sub>2</sub>O<sub>5</sub> &rarr; 4NO<sub>2</sub> + O<sub>2</sub>.
        N<sub>2</sub>O<sub>5</sub> drops from 3M to 2.75M in 30min. Rate of
        NO<sub>2</sub> formation is x &times; 10<sup>-3</sup>. x = _____.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="2">
      <div class="question">
        24. Identify the factor that does not affect electrolytic conductance.
      </div>
      <ul class="options">
        <li>
          <label
            ><input type="radio" name="q24" value="1" /> (1) Nature of
            electrolyte</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q24" value="2" /> (2) Nature of electrode
            used</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q24" value="3" /> (3)
            Concentration</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q24" value="4" /> (4) Nature of
            solvent</label
          >
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="1">
      <div class="question">
        25. Integrated rate law for 1st order gas reaction (P<sub>i</sub> =
        initial, P<sub>t</sub> = total):
      </div>
      <ul class="options">
        <li>
          <label
            ><input type="radio" name="q25" value="1" /> (1) k = (2.303 / t) log
            [P<sub>i</sub> / (2P<sub>i</sub> - P<sub>t</sub>)]</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q25" value="2" /> (2) k = (2.303 / t) log
            [2P<sub>i</sub> / (2P<sub>i</sub> - P<sub>t</sub>)]</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q25" value="3" /> (3) k = (2.303 / t) log
            [(2P<sub>i</sub> - P<sub>t</sub>) / P<sub>i</sub>]</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q25" value="4" /> (4) k = (2.303 / t)
            [P<sub>i</sub> / (2P<sub>i</sub> - P<sub>t</sub>)]</label
          >
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="5">
      <div class="question">
        26. One Faraday liberates x &times; 10<sup>-1</sup> gram atom of copper
        from CuSO<sub>4</sub>. x = _____.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="28">
      <div class="question">
        27. Spin only magnetic moment for [Ni(NH<sub>3</sub>)<sub>6</sub>]<sup
          >2+</sup
        >
        is _____ &times; 10<sup>-1</sup> BM.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="2">
      <div class="question">
        28. A(g) &harr; B(g) + &frac12;C(g). Relationship between K<sub>P</sub>,
        &alpha; and P is:
      </div>
      <ul class="options">
        <li>
          <label
            ><input type="radio" name="q28" value="1" /> (1) K<sub>P</sub> =
            (&alpha;<sup>1/2</sup>P<sup>1/2</sup>) / (2 +
            &alpha;<sup>1/2</sup>)</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q28" value="2" /> (2) K<sub>P</sub> =
            (&alpha;<sup>3/2</sup>P<sup>1/2</sup>) /
            [(2+&alpha;)<sup>1/2</sup>(1-&alpha;)]</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q28" value="3" /> (3) K<sub>P</sub> =
            (&alpha;<sup>1/2</sup>P<sup>1/2</sup>) / (2 +
            &alpha;<sup>3/2</sup>)</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q28" value="4" /> (4) K<sub>P</sub> =
            (&alpha;<sup>1/2</sup>P<sup>1/2</sup>) / (2 + &alpha;)<sup
              >1/2</sup
            ></label
          >
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="8">
      <div class="question">
        29. Moles of H<sup>+</sup> required by 1 mole MnO<sub>4</sub
        ><sup>-</sup> to oxidise oxalate to CO<sub>2</sub> is _____.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="6">
      <div class="question">
        30. In reaction of K<sub>2</sub>Cr<sub>2</sub>O<sub>7</sub>, KCl, and
        conc H<sub>2</sub>SO<sub>4</sub>, oxidation state of Cr in product is +
        _____.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="17190">
      <div class="question">
        31. <sup>14</sup>C/<sup>12</sup>C in wood is 1/8 of atmosphere. Half
        life = 5730 yrs. Age = _____ yrs.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="7">
      <div class="question">
        32. K<sub>a</sub> (CH<sub>3</sub>COOH) = 1.8&times;10<sup>-5</sup>,
        K<sub>b</sub> (NH<sub>4</sub>OH) = 1.8&times;10<sup>-5</sup>. pH of
        ammonium acetate is _____.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="1.93">
      <div class="question">
        33. Electricity in C required for oxidation of 1 mol H<sub>2</sub>O to
        O<sub>2</sub> is _____ &times; 10<sup>5</sup> C.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="339">
      <div class="question">
        34. MnO<sub>4</sub><sup>-</sup> + H<sup>+</sup> +
        H<sub>2</sub>C<sub>2</sub>O<sub>4</sub> &harr; Mn<sup>2+</sup> +
        H<sub>2</sub>O + CO<sub>2</sub>. E&deg; = 1.51V & -0.49V. K<sub>eq</sub>
        = 10<sup>x</sup>. x = _____.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="2">
      <div class="question">
        35. Solubility of Ca<sub>3</sub>(PO<sub>4</sub>)<sub>2</sub> (Mass M) is
        W g/100mL. K<sub>sp</sub> approx:
      </div>
      <ul class="options">
        <li>
          <label
            ><input type="radio" name="q35" value="1" /> (1) 10<sup>7</sup>
            W<sup>3</sup>/M<sup>3</sup></label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q35" value="2" /> (2) 10<sup>7</sup>
            W<sup>5</sup>/M<sup>5</sup></label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q35" value="3" /> (3) 10<sup>3</sup>
            W<sup>5</sup>/M<sup>5</sup></label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q35" value="4" /> (4) 10<sup>5</sup>
            W<sup>5</sup>/M<sup>5</sup></label
          >
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="4">
      <div class="question">
        36. What pressure (bar) of H<sub>2</sub> makes emf of hydrogen electrode
        zero in pure water at 25&deg;C?
      </div>
      <ul class="options">
        <li>
          <label
            ><input type="radio" name="q36" value="1" /> (1) 10<sup
              >-7</sup
            ></label
          >
        </li>
        <li>
          <label><input type="radio" name="q36" value="2" /> (2) 0.5</label>
        </li>
        <li>
          <label><input type="radio" name="q36" value="3" /> (3) 1</label>
        </li>
        <li>
          <label
            ><input type="radio" name="q36" value="4" /> (4) 10<sup
              >-14</sup
            ></label
          >
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="1">
      <div class="question">
        37. Decreasing order of basic strength of conjugate bases:
        <sup>-</sup>OH, R&Omacr;, CH<sub>3</sub>CO&Omacr;, C&Iscr;&Omacr;:
      </div>
      <ul class="options">
        <li>
          <label
            ><input type="radio" name="q37" value="1" /> (1) R&Omacr; >
            <sup>-</sup>OH > CH<sub>3</sub>CO&Omacr; > C&Iscr;&Omacr;</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q37" value="2" /> (2) C&Iscr;&Omacr; >
            R&Omacr; > <sup>-</sup>OH > CH<sub>3</sub>CO&Omacr;</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q37" value="3" /> (3) <sup>-</sup>OH >
            R&Omacr; > CH<sub>3</sub>CO&Omacr; > C&Iscr;&Omacr;</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q37" value="4" /> (4) C&Iscr;&Omacr; >
            <sup>-</sup>OH > R&Omacr; > CH<sub>3</sub>CO&Omacr;</label
          >
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="2">
      <div class="question">
        38. Plot of molar conductivity vs (conc)<sup>1/2</sup> for strong
        electrolyte. Unit for the slope is:
      </div>
      <ul class="options">
        <li>
          <label
            ><input type="radio" name="q38" value="1" /> (1) S cm<sup>2</sup>
            mol<sup>-3/2</sup> L<sup>-1/2</sup></label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q38" value="2" /> (2) S cm<sup>2</sup>
            mol<sup>-3/2</sup> L<sup>1/2</sup></label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q38" value="3" /> (3) S cm<sup>2</sup>
            mol<sup>-3/2</sup> L</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q38" value="4" /> (4) S cm<sup>2</sup>
            mol<sup>-1</sup> L<sup>1/2</sup></label
          >
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="2">
      <div class="question">
        39. Fuel cell (H<sub>2</sub>/O<sub>2</sub>): A. Used in spaceship B. 40%
        efficiency C. Uses Al catalyst D. Eco-friendly E. Type of Galvanic cell.
        Correct:
      </div>
      <ul class="options">
        <li>
          <label
            ><input type="radio" name="q39" value="1" /> (1) A, B, D, E
            only</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q39" value="2" /> (2) A, D, E only</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q39" value="3" /> (3) A, B, D only</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q39" value="4" /> (4) A, B, C only</label
          >
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="2">
      <div class="question">
        40. Reaction at cathode in cells commonly used in clocks involves:
      </div>
      <ul class="options">
        <li>
          <label
            ><input type="radio" name="q40" value="1" /> (1) reduction of Mn
            from +7 to +2</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q40" value="2" /> (2) reduction of Mn
            from +4 to +3</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q40" value="3" /> (3) oxidation of Mn
            from +3 to +4</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q40" value="4" /> (4) oxidation of Mn
            from +2 to +7</label
          >
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="3">
      <div class="question">
        41. Ionic conductivities of divalent cation & anion are 57 and 73 S
        cm<sup>2</sup> mol<sup>-1</sup>. Molar conductivity is:
      </div>
      <ul class="options">
        <li>
          <label><input type="radio" name="q41" value="1" /> (1) 187</label>
        </li>
        <li>
          <label><input type="radio" name="q41" value="2" /> (2) 260</label>
        </li>
        <li>
          <label><input type="radio" name="q41" value="3" /> (3) 130</label>
        </li>
        <li>
          <label><input type="radio" name="q41" value="4" /> (4) 65</label>
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="3">
      <div class="question">
        42. Fe<sub>2</sub>O<sub>3</sub>(s) + 3CO(g) &harr; 2Fe(l) +
        3CO<sub>2</sub>(g). Which will not disturb equilibrium?
      </div>
      <ul class="options">
        <li>
          <label
            ><input type="radio" name="q42" value="1" /> (1) Addition of CO<sub
              >2</sub
            ></label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q42" value="2" /> (2) Removal of CO<sub
              >2</sub
            ></label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q42" value="3" /> (3) Addition of
            Fe<sub>2</sub>O<sub>3</sub></label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q42" value="4" /> (4) Removal of
            CO</label
          >
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="3">
      <div class="question">
        43. Kinetic study 2A + B &rarr; C + D. Rate [0.1][0.1]=6e-3. Rate
        [0.4][0.1]=2.4e-2. Rate [0.3][0.2]=7.2e-2. Rate [0.3][0.4]=2.88e-1.
        Overall order is:
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="2">
      <div class="question">
        44. Quantity of silver deposited when one coulomb charge is passed:
      </div>
      <ul class="options">
        <li>
          <label
            ><input type="radio" name="q44" value="1" /> (1) 1 g of
            silver</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q44" value="2" /> (2) 1 electrochemical
            equivalent</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q44" value="3" /> (3) 1 chemical
            equivalent</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q44" value="4" /> (4) 0.1 g atom</label
          >
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="4">
      <div class="question">
        45. For the electro chemical cell, if E&deg;<sub
          >(M<sup>2+</sup>/M)</sub
        >
        = 0.46 V and E&deg;<sub>(X/X<sup>2-</sup>)</sub> = 0.34 V. Which of the
        following is correct?
      </div>
      <ul class="options">
        <li>
          <label
            ><input type="radio" name="q45" value="1" /> (1) M + X &rarr; M<sup
              >2+</sup
            >
            + X<sup>2-</sup> is spontaneous</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q45" value="2" /> (2) E<sub>cell</sub> =
            0.80 V</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q45" value="3" /> (3) E<sub>cell</sub> =
            -0.80 V</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q45" value="4" /> (4) M<sup>2+</sup> +
            X<sup>2-</sup> &rarr; M + X is spontaneous</label
          >
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="315">
      <div class="question">
        46. Consider gas reaction 2A<sub>(g)</sub> + B<sub>(g)</sub> &rarr;
        C<sub>(g)</sub>. Initial rate r<sub>1</sub> when P<sub>A</sub> = 1.5
        atm, P<sub>B</sub> = 0.7 atm. Later rate r<sub>2</sub> when P<sub
          >C</sub
        >
        = 0.5 atm. Ratio r<sub>1</sub> : r<sub>2</sub> is _____ &times;
        10<sup>-1</sup>.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="2">
      <div class="question">
        47. At -20&deg;C, 1 atm, a cylinder is filled with equal molecules of
        H<sub>2</sub>, I<sub>2</sub>, and HI for reaction H<sub>2(g)</sub> +
        I<sub>2(g)</sub> &harr; 2HI<sub>(g)</sub>. K<sub>p</sub> is x &times;
        10<sup>-1</sup>. The value of x is:
      </div>
      <ul class="options">
        <li>
          <label><input type="radio" name="q47" value="1" /> (1) 0.01</label>
        </li>
        <li>
          <label><input type="radio" name="q47" value="2" /> (2) 10</label>
        </li>
        <li>
          <label><input type="radio" name="q47" value="3" /> (3) 2</label>
        </li>
        <li>
          <label><input type="radio" name="q47" value="4" /> (4) 1</label>
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="76">
      <div class="question">
        48. Dissociation of weak acid: HX<sub>(aq)</sub> &harr; H<sup>+</sup
        ><sub>(aq)</sub> + X<sup>-</sup><sub>(aq)</sub>, K<sub>a</sub> = 1.2
        &times; 10<sup>-5</sup>. Osmotic pressure of 0.03 M HX at 300 K is _____
        &times; 10<sup>-2</sup> bar.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="6">
      <div class="question">
        49. Difference in 'spin-only' magnetic moment values of KMnO<sub>4</sub>
        and the manganese product formed during its titration against oxalic
        acid in acidic medium is _____ BM.
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="3">
      <div class="question">
        50. How can an electrochemical cell be converted into an electrolytic
        cell?
      </div>
      <ul class="options">
        <li>
          <label
            ><input type="radio" name="q50" value="1" /> (1) Applying an
            external opposite potential lower than E&deg; cell.</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q50" value="2" /> (2) Reversing the flow
            of ions in salt bridge.</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q50" value="3" /> (3) Applying an
            external opposite potential greater than E&deg; cell.</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q50" value="4" /> (4) Exchanging the
            electrodes at anode and cathode.</label
          >
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="1">
      <div class="question">
        51. The ratio K<sub>P</sub>/K<sub>C</sub> for the reaction : CO<sub
          >(g)</sub
        >
        + &frac12;O<sub>2(g)</sub> &harr; CO<sub>2(g)</sub> is :
      </div>
      <ul class="options">
        <li>
          <label
            ><input type="radio" name="q51" value="1" /> (1)
            1/&radic;(RT)</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q51" value="2" /> (2) (RT)<sup
              >1/2</sup
            ></label
          >
        </li>
        <li>
          <label><input type="radio" name="q51" value="3" /> (3) RT</label>
        </li>
        <li>
          <label><input type="radio" name="q51" value="4" /> (4) 1</label>
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="5">
      <div class="question">
        52. A solution containing 10 g of an electrolyte AB<sub>2</sub> in 100 g
        of water boils at 100.52&deg;C. The degree of ionization of the
        electrolyte (&alpha;) is _____ &times; 10<sup>-1</sup>. (nearest
        integer)<br /><small
          >[Given : Molar mass of AB<sub>2</sub> = 200 g mol<sup>-1</sup>, K<sub
            >b</sub
          >
          (water) = 0.52 K kg mol<sup>-1</sup>, boiling point of water =
          100&deg;C; AB<sub>2</sub> ionises as AB<sub>2</sub> &rarr; A<sup
            >2+</sup
          >
          + 2B<sup>-</sup>]</small
        >
      </div>
      <input type="text" placeholder="Your Answer" />
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="3">
      <div class="question">
        53. Let y = y(x) be the solution of the differential equation<br />(1 +
        y<sup>2</sup>)e<sup>tan x</sup> dx + cos<sup>2</sup> x (1 + e<sup
          >2tan x</sup
        >)dy = 0, y(0) = 1. Then y(&pi;/4) is equal to:
      </div>
      <ul class="options">
        <li>
          <label><input type="radio" name="q53" value="1" /> (1) 2/e</label>
        </li>
        <li>
          <label
            ><input type="radio" name="q53" value="2" /> (2) 2/e<sup
              >2</sup
            ></label
          >
        </li>
        <li>
          <label><input type="radio" name="q53" value="3" /> (3) 1/e</label>
        </li>
        <li>
          <label
            ><input type="radio" name="q53" value="4" /> (4) 1/e<sup
              >2</sup
            ></label
          >
        </li>
      </ul>
    </div>

<!-- QUESTION BLOCK -->
<div class="question-container" data-ans="4">
      <div class="question">
        54. Iron (III) catalyses the reaction between iodide and persulphate
        ions, in which:<br />A. Fe<sup>3+</sup> oxidises the iodide ion<br />B.
        Fe<sup>3+</sup> oxidises the persulphate ion<br />C. Fe<sup>2+</sup>
        reduces the iodide ion<br />D. Fe<sup>2+</sup> reduces the persulphate
        ion<br />Choose the most appropriate answer:
      </div>
      <ul class="options">
        <li>
          <label><input type="radio" name="q54" value="1" /> (1) B only</label>
        </li>
        <li>
          <label><input type="radio" name="q54" value="2" /> (2) A only</label>
        </li>
        <li>
          <label
            ><input type="radio" name="q54" value="3" /> (3) B and C only</label
          >
        </li>
        <li>
          <label
            ><input type="radio" name="q54" value="4" /> (4) A and D only</label
          >
        </li>
      </ul>
    </div>

    </div>

    <script>
        // App State
        let questions = [];
        let currentIndex = 0;
        
        /* State map for bubbles
           0: Not Visited
           1: Not Answered (Visited but blank)
           2: Answered
           3: Marked for Review (Not Answered)
           4: Answered & Marked for Review
        */

        document.addEventListener("DOMContentLoaded", () => {
            initQuestions();
            buildPalette();
            startTimer();
            loadQuestion(0);
        });

        function initQuestions() {
            const raw = document.getElementById('hidden-raw');
            const blocks = Array.from(raw.querySelectorAll('.question-container'));
            
            blocks.forEach((el, index) => {
                const ans = el.getAttribute('data-ans') ? el.getAttribute('data-ans').trim().toLowerCase() : "";
                
                // Clean up format inside
                const qTextEl = el.querySelector('.question');
                let qHtml = qTextEl ? qTextEl.innerHTML : "";
                
                // Reformat the 'number.' from the question text "1. The cell potential..." to just "The cell potential..."
                // Since NTA JEE removes the number and puts it in header
                qHtml = qHtml.replace(/^\s*\d+\.\s*/, '');
                
                // Find options or input
                let isNumerical = false;
                let optHtml = "";
                
                const inputField = el.querySelector('input[type="text"]');
                const radioFields = el.querySelectorAll('input[type="radio"]');
                
                if(inputField) {
                    isNumerical = true;
                    // Provide a nice JEE styled input
                    optHtml = `<div style="margin-top:30px;">
                                 <b>Enter Value:</b> <input type="text" id="ans-input" class="num-input" placeholder="Type your answer here..." autocomplete="off">
                               </div>`;
                } else if(radioFields.length > 0) {
                    // It's MCQ
                    optHtml = '<div class="options-container">';
                    const listItems = el.querySelectorAll('.options li');
                    listItems.forEach((li, optIndex) => {
                        const radio = li.querySelector('input');
                        const val = radio.value;
                        // get label text
                        let lblText = li.querySelector('label').innerHTML;
                        // remove the radio input from label html to clean it
                        lblText = lblText.replace(/<input.*?>/, '').trim();
                        // NTA has options vertically listed usually
                        optHtml += `<label class="option-item">
                                        <input type="radio" name="jee-q" value="${val}" id="opt-${optIndex}">
                                        <span>${lblText}</span>
                                    </label>`;
                    });
                    optHtml += '</div>';
                }

                questions.push({
                    id: index,
                    text: qHtml,
                    options: optHtml,
                    correct: ans,
                    isNumerical: isNumerical,
                    userAnswer: "",
                    state: 0 // 0 = not visited
                });
            });
            
            // Set all to 0, but set first to 1 (Not Answered) immediately
            if(questions.length > 0) {
                questions[0].state = 1;
            }
        }

        function buildPalette() {
            const grid = document.getElementById('palette-grid');
            grid.innerHTML = "";
            
            questions.forEach((q, i) => {
                const btn = document.createElement('div');
                btn.className = `bubble ${getBubbleClass(q.state)}`;
                btn.innerText = i + 1;
                btn.id = `bubble-${i}`;
                btn.onclick = () => jumpToQuestion(i);
                grid.appendChild(btn);
            });
            
            updateCounts();
        }
        
        function getBubbleClass(state) {
            switch(state) {
                case 0: return 'b-not-visited';
                case 1: return 'b-not-answered';
                case 2: return 'b-answered';
                case 3: return 'b-marked';
                case 4: return 'b-marked-ans';
                default: return 'b-not-visited';
            }
        }

        function updatePaletteButton(index) {
            const btn = document.getElementById(`bubble-${index}`);
            if(btn) {
                btn.className = `bubble ${getBubbleClass(questions[index].state)}`;
            }
            updateCounts();
        }

        function updateCounts() {
            let counts = [0, 0, 0, 0, 0];
            questions.forEach(q => { counts[q.state]++; });
            
            document.getElementById('count-nv').innerText = counts[0];
            document.getElementById('count-na').innerText = counts[1];
            document.getElementById('count-ans').innerText = counts[2];
            document.getElementById('count-m').innerText = counts[3];
            document.getElementById('count-mans').innerText = counts[4];
        }

        function loadQuestion(index) {
            // Save current answer before switching if we haven't explicitely saved
            cacheCurrentResponseLocally();
            
            if(index < 0 || index >= questions.length) return;
            
            currentIndex = index;
            const q = questions[currentIndex];
            
            // If completely unvisited, visiting makes it "Not Answered"
            if(q.state === 0) {
                q.state = 1; 
                updatePaletteButton(currentIndex);
            }
            
            document.getElementById('q-header-text').innerText = `Question ${currentIndex + 1} of ${questions.length}`;
            
            let html = `<div style="font-weight:bold; margin-bottom:15px; font-size:18px;">${q.text}</div>`;
            html += q.options;
            
            document.getElementById('q-body').innerHTML = html;
            
            // Restore answer
            if(q.isNumerical) {
                const inp = document.getElementById('ans-input');
                if(inp) inp.value = q.userAnswer;
            } else {
                if(q.userAnswer) {
                    const rds = document.getElementsByName('jee-q');
                    for(let i=0; i<rds.length; i++) {
                        if(rds[i].value === q.userAnswer) {
                            rds[i].checked = true;
                            break;
                        }
                    }
                }
            }
        }

        function extractCurrentResponse() {
            const q = questions[currentIndex];
            let ans = "";
            if(q.isNumerical) {
                const inp = document.getElementById('ans-input');
                if(inp) ans = inp.value.trim();
            } else {
                const rds = document.getElementsByName('jee-q');
                for(let i=0; i<rds.length; i++) {
                    if(rds[i].checked) { ans = rds[i].value; break; }
                }
            }
            return ans;
        }

        function cacheCurrentResponseLocally() {
            // we don't change state automatically unless it's just updating temp mem
            const ans = extractCurrentResponse();
            questions[currentIndex].userAnswer = ans;
        }

        function clearResponse() {
            const q = questions[currentIndex];
            q.userAnswer = "";
            if(q.isNumerical) {
                const inp = document.getElementById('ans-input');
                if(inp) inp.value = "";
            } else {
                const rds = document.getElementsByName('jee-q');
                for(let i=0; i<rds.length; i++) {
                    rds[i].checked = false;
                }
            }
            // State reverts to not answered
            q.state = 1;
            updatePaletteButton(currentIndex);
        }

        function saveAndNext() {
            const ans = extractCurrentResponse();
            questions[currentIndex].userAnswer = ans;
            if(ans !== "") {
                questions[currentIndex].state = 2; // Answered
            } else {
                questions[currentIndex].state = 1; // Not Answered
            }
            updatePaletteButton(currentIndex);
            autoNext();
        }

        function saveAndMark() {
            const ans = extractCurrentResponse();
            questions[currentIndex].userAnswer = ans;
            if(ans !== "") {
                questions[currentIndex].state = 4; // Answered & Marked
            } else {
                // If clicked save & mark but no answer? Usually NTA doesn't allow 'Save & Mark' if blank, it's just 'Mark'. 
                // But we handle it.
                questions[currentIndex].state = 3; // Marked 
            }
            updatePaletteButton(currentIndex);
            autoNext();
        }

        function markAndNext() {
            const ans = extractCurrentResponse();
            questions[currentIndex].userAnswer = ans;
            if(ans !== "") {
                // NTA behaviour: Mark for Review & Next without saving makes it "Marked" (not answered). 
                // Wait, typically "Mark for review & next" acts like: if answered, state is 4. If not, state is 3. 
                // Let's do that.
                questions[currentIndex].state = 4;
            } else {
                questions[currentIndex].state = 3; 
            }
            updatePaletteButton(currentIndex);
            autoNext();
        }

        function autoNext() {
            if(currentIndex < questions.length - 1) {
                loadQuestion(currentIndex + 1);
            } else {
                // cycle back or show modal? let's stick to current
                loadQuestion(0);
            }
        }

        function nextQuestion() {
            cacheCurrentResponseLocally();
            if(currentIndex < questions.length - 1) {
                loadQuestion(currentIndex + 1);
            }
        }

        function prevQuestion() {
            cacheCurrentResponseLocally();
            if(currentIndex > 0) {
                loadQuestion(currentIndex - 1);
            }
        }

        function jumpToQuestion(idx) {
            loadQuestion(idx);
        }

        // Timer
        let timeInSeconds = 3 * 60 * 60; // 3 hours
        let timerInterval;

        function startTimer() {
            timerInterval = setInterval(() => {
                timeInSeconds--;
                if(timeInSeconds <= 0) {
                    clearInterval(timerInterval);
                    submitExam();
                } else {
                    let h = Math.floor(timeInSeconds / 3600);
                    let m = Math.floor((timeInSeconds % 3600) / 60);
                    let s = timeInSeconds % 60;
                    document.getElementById('timer').innerText = 
                        `${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
                }
            }, 1000);
        }

        function submitExam() {
            clearInterval(timerInterval);
            if(!confirm("Are you sure you want to completely submit the examination?")) {
                startTimer();
                return;
            }
            
            cacheCurrentResponseLocally(); // save the one they are currently looking at
            
            // Evaluation
            let correct = 0;
            let incorrect = 0;
            let att = 0;
            
            questions.forEach(q => {
               if(q.userAnswer !== "") {
                   att++;
                   // Note: q.correct is parsed from data-ans which was already populated as the index of option or actual value
                   // numericals are exact strings or numbers. 
                   let userLow = q.userAnswer.toLowerCase();
                   let trueAns = q.correct.toLowerCase();
                   
                   if(q.isNumerical) {
                       // compare floats or strings
                       if(parseFloat(userLow) === parseFloat(trueAns) || userLow === trueAns) correct++;
                       else incorrect++;
                   } else {
                       // MCQs in the old HTML had format `(1)`, `(2)` or just `1`, `2`. 
                       // Wait, the radio inputs in the old HTML had value "1", "2", "3", "4".
                       // The `data-ans` had "1", "2", "3", "4" correctly.
                       if(userLow === trueAns) correct++;
                       else incorrect++;
                   }
               }
            });
            
            let fm = (correct * 4) - (incorrect * 1);
            
            document.getElementById('exam-screen').style.display = "none";
            document.getElementById('header-area').style.display = "none";
            document.getElementById('result-screen').style.display = "flex";
            
            document.getElementById('final-score').innerText = fm;
            document.getElementById('r-total').innerText = questions.length;
            document.getElementById('r-att').innerText = att;
            document.getElementById('r-corr').innerText = correct;
            document.getElementById('r-incorr').innerText = incorrect;
        }
    </script>
</body>
</html>
