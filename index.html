<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Physical Chemistry Mock Test</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: Arial, sans-serif; }
        body { background-color: #f2f2f2; height: 100vh; display: flex; flex-direction: column; }
        
        /* Header */
        header { background-color: #3b5998; color: white; padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; font-size: 18px; font-weight: bold; }
        .timer { background: #ff4d4d; padding: 5px 15px; border-radius: 5px; }

        /* Main Layout */
        .container { display: flex; flex: 1; overflow: hidden; }
        
        /* Left Panel - Question Area */
        .left-panel { flex: 3; display: flex; flex-direction: column; background: white; margin: 10px; border: 1px solid #ccc; border-top: 3px solid #3b5998; box-shadow: 0 0 5px rgba(0,0,0,0.1); }
        .question-header { display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid #eee; font-weight: bold; font-size: 16px; background: #fafafa; }
        .question-body { padding: 20px; overflow-y: auto; flex: 1; font-size: 16px; line-height: 1.6; }
        .options { margin-top: 20px; }
        .option-lbl { display: block; margin-bottom: 15px; cursor: pointer; padding: 10px; border: 1px solid #ddd; border-radius: 4px; transition: 0.2s; }
        .option-lbl:hover { background: #f0f8ff; border-color: #3b5998; }
        .option-lbl input { margin-right: 10px; transform: scale(1.2); cursor: pointer; }
        
        /* Left Panel - Footer/Actions */
        .action-buttons { padding: 15px; background: #f9f9f9; border-top: 1px solid #ddd; display: flex; justify-content: space-between; flex-wrap: wrap; gap: 10px; }
        .btn { padding: 10px 15px; border: none; color: white; cursor: pointer; font-size: 14px; font-weight: bold; border-radius: 3px; }
        .btn-save { background-color: #5cb85c; }
        .btn-save:hover { background-color: #4cae4c; }
        .btn-review { background-color: #f0ad4e; }
        .btn-review:hover { background-color: #eea236; }
        .btn-clear { background-color: #d9534f; }
        .btn-clear:hover { background-color: #c9302c; }

        /* Right Panel - Palette */
        .right-panel { flex: 1; background: white; margin: 10px 10px 10px 0; border: 1px solid #ccc; border-top: 3px solid #3b5998; display: flex; flex-direction: column; box-shadow: 0 0 5px rgba(0,0,0,0.1); max-width: 350px;}
        .profile { display: flex; align-items: center; padding: 15px; border-bottom: 1px solid #eee; }
        .profile img { width: 60px; height: 60px; border-radius: 50%; margin-right: 15px; background: #ddd; }
        
        .palette-legend { padding: 10px; border-bottom: 1px solid #eee; display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 12px; }
        .legend-item { display: flex; align-items: center; }
        .box { width: 25px; height: 25px; display: inline-flex; justify-content: center; align-items: center; color: white; font-weight: bold; margin-right: 8px; border-radius: 4px; font-size: 12px;}
        
        .status-0 { background: #e0e0e0; color: #333; } /* Not Visited */
        .status-1 { background: #d9534f; clip-path: polygon(0 0, 100% 0, 100% 80%, 50% 100%, 0 80%); height: 30px;} /* Not Answered */
        .status-2 { background: #5cb85c; clip-path: polygon(50% 0%, 100% 20%, 100% 100%, 0 100%, 0 20%); height: 30px;} /* Answered */
        .status-3 { background: #5bc0de; border-radius: 50%; width: 30px; height: 30px; } /* Marked for Review */
        .status-4 { background: #5bc0de; border-radius: 50%; width: 30px; height: 30px; position: relative; } /* Answered & Marked */
        .status-4::after { content: ''; position: absolute; bottom: 2px; right: 2px; width: 8px; height: 8px; background: #5cb85c; border-radius: 50%; }

        .palette-grid-container { padding: 15px; overflow-y: auto; flex: 1; }
        .palette-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
        .q-btn { width: 100%; height: 40px; cursor: pointer; border: 1px solid #ccc; background: #e0e0e0; font-weight: bold; display: flex; justify-content: center; align-items: center; transition: 0.2s; border-radius: 4px;}
        .q-btn:hover { opacity: 0.8; }
        
        .submit-btn-container { padding: 15px; border-top: 1px solid #eee; }
        .btn-submit-test { background: #3b5998; width: 100%; padding: 12px; }

        /* Results Screen */
        #result-screen { display: none; padding: 40px; text-align: center; background: white; height: 100%; }
        #result-screen h2 { color: #3b5998; margin-bottom: 20px; font-size: 28px;}
        .score-card { font-size: 20px; margin-bottom: 20px; padding: 20px; background: #f0f8ff; border: 1px solid #3b5998; display: inline-block; border-radius: 8px;}
    </style>
</head>
<body>

    <header>
        <div>NTA MOCK TEST - PHYSICAL CHEMISTRY</div>
        <div class="timer" id="timer">Time Left: 60:00</div>
    </header>

    <div class="container" id="test-screen">
        <div class="left-panel">
            <div class="question-header">
                <span id="q-no">Question No. 1</span>
            </div>
            <div class="question-body">
                <div id="question-text" style="font-weight: bold; margin-bottom: 15px;">Loading question...</div>
                <div class="options" id="options-container">
                    </div>
            </div>
            <div class="action-buttons">
                <div>
                    <button class="btn btn-save" onclick="saveAndNext()">Save & Next</button>
                    <button class="btn btn-clear" onclick="clearResponse()">Clear Response</button>
                </div>
                <div>
                    <button class="btn btn-review" onclick="markForReviewAndNext()">Mark for Review & Next</button>
                </div>
            </div>
        </div>

        <div class="right-panel">
            <div class="profile">
                <img src="https://via.placeholder.com/60?text=Candidate" alt="Profile">
                <div>
                    <div style="font-weight: bold; font-size: 16px;">Candidate Name</div>
                    <div style="font-size: 12px; color: #666;">Subject: Chemistry</div>
                </div>
            </div>
            
            <div class="palette-legend">
                <div class="legend-item"><span class="box status-0" id="count-0">0</span> Not Visited</div>
                <div class="legend-item"><span class="box status-1" id="count-1">0</span> Not Answered</div>
                <div class="legend-item"><span class="box status-2" id="count-2">0</span> Answered</div>
                <div class="legend-item"><span class="box status-3" id="count-3">0</span> Marked for Review</div>
                <div class="legend-item" style="grid-column: span 2;"><span class="box status-4" id="count-4">0</span> Answered & Marked for Review (will be considered for evaluation)</div>
            </div>

            <div class="palette-grid-container">
                <div style="font-weight: bold; margin-bottom: 10px;">Question Palette:</div>
                <div class="palette-grid" id="palette-grid">
                    </div>
            </div>
            
            <div class="submit-btn-container">
                <button class="btn btn-submit-test" onclick="submitTest()">Submit Test</button>
            </div>
        </div>
    </div>

    <div id="result-screen">
        <h2>Test Submitted Successfully!</h2>
        <div class="score-card" id="score-card"></div>
        <button class="btn btn-submit-test" style="width: 200px;" onclick="location.reload()">Restart Test</button>
    </div>

    <script>
        // Data containing 10 questions from your previous mock test
        const questions = [
            {
                q: "Which of the following equations correctly represents the relationship between molar conductivity (&Lambda;<sub>m</sub>), limiting molar conductivity (&Lambda;&deg;<sub>m</sub>), and concentration (C)?",
                options: [
                    "&Lambda;<sub>m</sub> - &Lambda;&deg;<sub>m</sub> + A C<sup>1/2</sup> = 0",
                    "&Lambda;<sub>m</sub><sup>2</sup> C - K<sub>a</sub> &Lambda;<sub>m</sub><sup>&deg;2</sup> + K<sub>a</sub> &Lambda;<sub>m</sub> &Lambda;&deg;<sub>m</sub> = 0",
                    "&Lambda;<sub>m</sub><sup>2</sup> C + K<sub>a</sub> &Lambda;<sub>m</sub><sup>&deg;2</sup> - K<sub>a</sub> &Lambda;<sub>m</sub> &Lambda;&deg;<sub>m</sub> = 0",
                    "&Lambda;<sub>m</sub> - &Lambda;&deg;<sub>m</sub> - A C<sup>1/2</sup> = 0"
                ],
                ans: 0 // Index of correct option
            },
            {
                q: "For a strong electrolyte, a plot of molar conductivity against the square root of concentration is a straight line, with the slope having the unit:",
                options: [
                    "mol<sup>-3/2</sup> L<sup>-1/2</sup> S cm<sup>2</sup>",
                    "mol<sup>-3/2</sup> L<sup>1/2</sup> S cm<sup>2</sup>",
                    "mol<sup>-3/2</sup> L S cm<sup>2</sup>",
                    "mol<sup>-1</sup> L<sup>1/2</sup>"
                ],
                ans: 1
            },
            {
                q: "For a concentrated solution of a weak electrolyte A<sub>2</sub>B<sub>3</sub> of concentration 'C', the degree of dissociation '&alpha;' (K<sub>eq</sub> = equilibrium constant) is:",
                options: [
                    "(K<sub>eq</sub> / 5c<sup>4</sup>)<sup>1/5</sup>",
                    "(K<sub>eq</sub> / 108c<sup>4</sup>)<sup>1/5</sup>",
                    "(K<sub>eq</sub> / 25c<sup>2</sup>)<sup>1/5</sup>",
                    "(K<sub>eq</sub> / 6c<sup>5</sup>)<sup>1/5</sup>"
                ],
                ans: 1
            },
            {
                q: "For a sparingly soluble salt AB<sub>2</sub>, the equilibrium concentrations of A<sup>2+</sup> ions and B<sup>-</sup> ions are 1.2 &times; 10<sup>-4</sup> M and 0.24 &times; 10<sup>-3</sup> M, respectively. The solubility product of AB<sub>2</sub> is:",
                options: [
                    "6.91 &times; 10<sup>-12</sup>",
                    "0.276 &times; 10<sup>-12</sup>",
                    "27.65 &times; 10<sup>-12</sup>",
                    "0.069 &times; 10<sup>-12</sup>"
                ],
                ans: 0
            },
            {
                q: "The equilibrium constant for the reaction SO<sub>3</sub>(g) &harr; SO<sub>2</sub>(g) + &frac12;O<sub>2</sub>(g) is K<sub>c</sub> = 4.9 &times; 10<sup>-2</sup>. The value of K<sub>c</sub> for the reaction 2SO<sub>2</sub>(g) + O<sub>2</sub>(g) &harr; 2SO<sub>3</sub>(g) is:",
                options: [
                    "4.9",
                    "49",
                    "41.6",
                    "416"
                ],
                ans: 3
            },
            {
                q: "Identify the factor from the following that does not affect electrolytic conductance of a solution.",
                options: [
                    "The nature of the electrolyte added.",
                    "The nature of the electrode used.",
                    "Concentration of the electrolyte.",
                    "The nature of solvent used."
                ],
                ans: 1
            },
            {
                q: "Integrated rate law equation for a first order gas phase reaction is given by (where P<sub>i</sub> is initial pressure and P<sub>t</sub> is total pressure at time t):",
                options: [
                    "k = (2.303 / t) &times; log [P<sub>i</sub> / (2P<sub>i</sub> - P<sub>t</sub>)]",
                    "k = (2.303 / t) &times; log [2P<sub>i</sub> / (2P<sub>i</sub> - P<sub>t</sub>)]",
                    "k = (2.303 / t) &times; log [(2P<sub>i</sub> - P<sub>t</sub>) / P<sub>i</sub>]",
                    "k = (2.303 / t) &times; [P<sub>i</sub> / (2P<sub>i</sub> - P<sub>t</sub>)]"
                ],
                ans: 0
            },
            {
                q: "Decreasing order of basic strength of conjugate bases: <sup>-</sup>OH, R&Omacr;, CH<sub>3</sub>CO&Omacr;, C&Iscr;&Omacr;:",
                options: [
                    "R&Omacr; > <sup>-</sup>OH > CH<sub>3</sub>CO&Omacr; > C&Iscr;&Omacr;",
                    "C&Iscr;&Omacr; > R&Omacr; > <sup>-</sup>OH > CH<sub>3</sub>CO&Omacr;",
                    "<sup>-</sup>OH > R&Omacr; > CH<sub>3</sub>CO&Omacr; > C&Iscr;&Omacr;",
                    "C&Iscr;&Omacr; > <sup>-</sup>OH > R&Omacr; > CH<sub>3</sub>CO&Omacr;"
                ],
                ans: 0
            },
            {
                q: "How can an electrochemical cell be converted into an electrolytic cell?",
                options: [
                    "Applying an external opposite potential lower than E&deg; cell.",
                    "Reversing the flow of ions in salt bridge.",
                    "Applying an external opposite potential greater than E&deg; cell.",
                    "Exchanging the electrodes at anode and cathode."
                ],
                ans: 2
            },
            {
                q: "At -20&deg;C, 1 atm, a cylinder is filled with equal molecules of H<sub>2</sub>, I<sub>2</sub>, and HI for reaction H<sub>2(g)</sub> + I<sub>2(g)</sub> &harr; 2HI<sub>(g)</sub>. K<sub>p</sub> is x &times; 10<sup>-1</sup>. The value of x is:",
                options: [
                    "0.01",
                    "10",
                    "2",
                    "1"
                ],
                ans: 1
            }
        ];

        let currentQuestion = 0;
        
        // Status codes: 0: Not Visited, 1: Not Answered, 2: Answered, 3: Marked, 4: Answered & Marked
        let statuses = new Array(questions.length).fill(0); 
        let responses = new Array(questions.length).fill(null);
        
        // Initialize
        function init() {
            renderPalette();
            loadQuestion(0);
            startTimer(3600); // 60 minutes
        }

        function loadQuestion(index) {
            currentQuestion = index;
            document.getElementById('q-no').innerText = `Question No. ${index + 1}`;
            document.getElementById('question-text').innerHTML = questions[index].q;
            
            // Mark as visited if not answered or marked
            if (statuses[index] === 0) {
                statuses[index] = 1;
                updatePalette();
            }

            const optContainer = document.getElementById('options-container');
            optContainer.innerHTML = '';
            
            questions[index].options.forEach((opt, i) => {
                const isChecked = responses[index] === i ? 'checked' : '';
                optContainer.innerHTML += `
                    <label class="option-lbl">
                        <input type="radio" name="opt" value="${i}" ${isChecked}> 
                        ( ${i + 1} ) ${opt}
                    </label>
                `;
            });
            updatePaletteUI();
        }

        function getSelectedOption() {
            const opts = document.getElementsByName('opt');
            for (let i = 0; i < opts.length; i++) {
                if (opts[i].checked) return i;
            }
            return null;
        }

        function saveAndNext() {
            const selected = getSelectedOption();
            if (selected !== null) {
                responses[currentQuestion] = selected;
                statuses[currentQuestion] = 2; // Answered
            } else {
                if(statuses[currentQuestion] !== 2 && statuses[currentQuestion] !== 4) {
                    statuses[currentQuestion] = 1; // Not Answered
                }
            }
            goToNext();
        }

        function markForReviewAndNext() {
            const selected = getSelectedOption();
            if (selected !== null) {
                responses[currentQuestion] = selected;
                statuses[currentQuestion] = 4; // Answered & Marked
            } else {
                statuses[currentQuestion] = 3; // Marked
            }
            goToNext();
        }

        function clearResponse() {
            const opts = document.getElementsByName('opt');
            opts.forEach(opt => opt.checked = false);
            responses[currentQuestion] = null;
            statuses[currentQuestion] = 1; // Changed to Not Answered
            updatePalette();
        }

        function goToNext() {
            updatePalette();
            if (currentQuestion < questions.length - 1) {
                loadQuestion(currentQuestion + 1);
            } else {
                loadQuestion(0); // Cycle back to first if at end (or show prompt)
            }
        }

        function renderPalette() {
            const grid = document.getElementById('palette-grid');
            grid.innerHTML = '';
            for (let i = 0; i < questions.length; i++) {
                grid.innerHTML += `<div class="q-btn status-${statuses[i]}" id="btn-${i}" onclick="loadQuestion(${i})">${i + 1}</div>`;
            }
            updatePaletteCount();
        }

        function updatePalette() {
            const btn = document.getElementById(`btn-${currentQuestion}`);
            btn.className = `q-btn status-${statuses[currentQuestion]}`;
            updatePaletteCount();
        }
        
        function updatePaletteUI() {
            // Highlight current button
            for (let i = 0; i < questions.length; i++) {
                document.getElementById(`btn-${i}`).style.border = (i === currentQuestion) ? '2px solid black' : '1px solid #ccc';
            }
        }

        function updatePaletteCount() {
            let counts = [0, 0, 0, 0, 0];
            statuses.forEach(s => counts[s]++);
            for(let i=0; i<=4; i++) {
                document.getElementById(`count-${i}`).innerText = counts[i];
            }
        }

        function submitTest() {
            if(confirm("Are you sure you want to submit the test?")) {
                let score = 0;
                let attempted = 0;
                
                responses.forEach((ans, i) => {
                    if (ans !== null) {
                        attempted++;
                        if (ans === questions[i].ans) score += 4; // +4 for correct
                        else score -= 1; // -1 for incorrect
                    }
                });

                document.getElementById('test-screen').style.display = 'none';
                document.getElementById('result-screen').style.display = 'block';
                document.getElementById('score-card').innerHTML = `
                    Total Questions: ${questions.length} <br>
                    Attempted: ${attempted} <br><br>
                    <strong>Estimated Score: ${score} / ${questions.length * 4}</strong>
                `;
            }
        }

        // Timer
        function startTimer(duration) {
            let timer = duration, minutes, seconds;
            setInterval(function () {
                minutes = parseInt(timer / 60, 10);
                seconds = parseInt(timer % 60, 10);
                minutes = minutes < 10 ? "0" + minutes : minutes;
                seconds = seconds < 10 ? "0" + seconds : seconds;
                document.getElementById('timer').innerText = "Time Left: " + minutes + ":" + seconds;
                if (--timer < 0) {
                    submitTest();
                }
            }, 1000);
        }

        window.onload = init;
    </script>
</body>
</html>
